version: '3'

services:
  web: # Node.js App
    container_name: "koa-web-1"
    image: "node:12.2"
    build: .
    ports:
      - "3000:3000" # Expose koa (node) port
      - "9229:9229" # Expose Node process debug port (disable for prod)
    environment: # Set ENV vars
      - NODE_ENV=local
      - PORT=3000
        ES_HOST=odfe-node1
    volumes: # Attach local book data dir
      - ./books:/usr/src/app/books
    networks:
        odfe-net
